<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <title>Expense Tracker</title>
  <style>
    .removebtn {
      color: white;
      background-color: #dc3545;
      padding: 4px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      text-align: center;
      display: inline-block;
    }

    .removebtn:hover {
      background-color: #c82333;
    }

    .error {
      border: 2px solid red !important;
    }

    td {
      padding: 0.6rem;
      text-align: center;
    }

    .formContainer input[type="number"]#expenseVal {
      width: 24%;
      height: 2.8rem;
      border-radius: 0.5rem;
      font-size: 1rem;
      border: 1px solid #6c7d5a;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    @media screen and (max-width: 768px) {
      .formContainer, .balanceHead, .overview, .expenseList {
        width: 100% !important;
      }
    }
  </style>
</head>
<body style="margin: 0; font-family: 'DM Sans', sans-serif; background: radial-gradient(circle, rgba(108,125,90,1) 0%, rgba(185,194,177,1) 26%, rgba(255,255,255,1) 74%);">
  <div class="container1">

    <!-- NAVBAR SECTION -->
    <nav class="navbar navbar-expand-sm sticky-top navbar-dark" style="background-color:#6c7d5a; height:70px; font-family: 'Libre Baskerville', serif;">
      <div class="container-fluid">
        <a class="navbar-brand d-md-none" href="/">
          <img src="Black_And_White_Aesthetic_Minimalist_Modern_Simple_Typography_Coconut_Cosmetics_Logo__1_-removebg-preview (1).png" alt="" style="width: 80px;">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav mx-auto" style="align-items: center;">
            <li class="nav-item"><a class="nav-link active" href="/" style="color: #fff; font-size: 1.1em; padding: 0.5em 1em;">HOME</a></li>
            <li class="nav-item"><a class="nav-link" href="/about" style="color: #fff; font-size: 1.1em; padding: 0.5em 1em;">ABOUT</a></li>
            <a class="navbar-brand d-none d-md-block" href="/">
              <img src="Black_And_White_Aesthetic_Minimalist_Modern_Simple_Typography_Coconut_Cosmetics_Logo__1_-removebg-preview (1).png" alt="" style="width: 100px;">
            </a>
            <li class="nav-item"><a class="nav-link" href="/portfolio" style="color: #fff; font-size: 1.1em; padding: 0.5em 1em;">PORTFOLIO</a></li>
            <li class="nav-item"><a class="nav-link" href="/contact" style="color: #fff; font-size: 1.1em; padding: 0.5em 1em;">CONTACT</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <main style="padding: 2rem;">
      <div class="container center" style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
        
        <!-- Balance Header -->
        <div class="balanceHead" style="height: 6rem; width: 35rem; display: flex; align-items: center; justify-content: space-between; background-color: #6c7d5a; color: white; border-radius: 1rem;">
          <div style="padding: 1rem;">
            <p style="font-size: 1.1rem; font-weight: 700;">My Balance</p>
            <h1 id="balanceVal">₹ 000</h1>
          </div>
          <img src="./logo.svg" alt="" style="padding: 1rem;">
        </div>

        <!-- Budget and Expense Form -->
        <div class="formContainer" style="width: 35rem; background-color: white; margin: 1rem 0; padding-bottom: 1rem; border-radius: 1rem; border: 1px solid #6c7d5a;">
          <h3 style="padding: 1rem;">ADD BUDGET</h3>
          <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem;">
            <input type="number" placeholder="Enter Amount in Numbers, e.g. 5000" id="budget" style="width: 75%; height: 2.8rem; border-radius: 0.5rem;">
            <button onclick="addBudget();" style="width: 23%; height: 2.8rem; background-color: #6c7d5a; color: white; border: none; border-radius: 0.5rem;">Add Budget</button>
          </div>

          <h3 style="padding: 1rem;">ADD EXPENSE</h3>
          <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem;">
            <select id="description" style="width: 24%; height: 2.8rem; border-radius: 0.5rem;">
              <option value="" selected hidden disabled>Description</option>
              <option value="Venue">Venue</option>
              <option value="Equipments">Equipments</option>
              <option value="Decor">Decor</option>
              <option value="Catering">Catering</option>
              <option value="Transportation">Transportation</option>
              <option value="Team and staff">Team and staff</option>
              <option value="Miscellaneous">Miscellaneous</option>
            </select>
            <input type="number" id="expenseVal" placeholder="Enter Amount">
            <input type="date" id="date" style="width: 24%; height: 2.8rem; border-radius: 0.5rem;">
            <button onclick="addExpense();" style="width: 23%; height: 2.8rem; background-color: #6c7d5a; color: white; border: none; border-radius: 0.5rem;">Add Expense</button>
          </div>
        </div>

        <!-- Overview -->
        <div class="overview balanceHead" style="width: 35rem; background-color: #6c7d5a; color: white; border-radius: 1rem; display: flex; justify-content: space-between;">
          <div style="padding: 1rem;">
            <p>Total Budget</p>
            <h1 id="total">₹ 000</h1>
          </div>
          <div style="padding: 1rem;">
            <p>Expenses</p>
            <h1 id="expense">₹ 000</h1>
          </div>
        </div>

        <!-- Expense List -->
        <div class="expenseList formContainer" style="width: 35rem; background-color: white; border-radius: 1rem; border: 1px solid #6c7d5a; margin-top: 2rem;">
          <h2 style="padding: 1rem;">Expense List</h2>
          <table style="width: 100%; font-size: 1.1rem; border-collapse: collapse;">
            <thead>
              <tr>
                <td style="background-color: #f5f5f5; border-bottom: 1px solid #999;">Description</td>
                <td style="background-color: #f5f5f5; border-bottom: 1px solid #999;">Amount</td>
                <td style="background-color: #f5f5f5; border-bottom: 1px solid #999;">Date</td>
                <td style="background-color: #f5f5f5; border-bottom: 1px solid #999;"></td>
              </tr>
            </thead>
            <tbody id="expenseList"></tbody>
          </table>
        </div>

      </div>
    </main>
  </div>

  <!-- JavaScript -->
  <script>
    let budget = document.getElementById("budget");
    let balance = document.getElementById("balanceVal");
    let desc = document.getElementById("description");
    let expense = document.getElementById("expense");
    let date = document.getElementById("date");
    let expenseVal = document.getElementById("expenseVal");
    let total = document.getElementById("total");
    let expenseList = document.getElementById("expenseList");

    let amount;
    let totalExpense = 0;
    let budAmount;
    let exp = [desc, expenseVal, date];

    expenseList.addEventListener("click", removeExpense);

    let addBudget = () => {
      amount = Number(budget.value);
      if (isNaN(amount) || amount <= 0 || budget.value == "") {
        budget.classList.add("error");
      } else {
        total.innerText = "₹" + amount;
        balance.innerText = "₹" + amount;
        budget.classList.remove("error");
      }
    };

    let addExpense = () => {
  if (isNaN(Number(expenseVal.value)) || Number(expenseVal.value) <= 0 || expenseVal.value == '' || date.value === '' || desc.value == "") {
    exp.forEach((e) => e.classList.add("error"));
  } else {
    let expenseAmount = Number(expenseVal.value);

    if (expenseAmount > amount) {
      alert("❌ No more balance! Cannot add this expense.");
      return;
    }

    amount -= expenseAmount;
    totalExpense += expenseAmount;
    budAmount = totalExpense;

    expense.innerText = "₹" + totalExpense;
    balance.innerText = "₹" + amount;

    let tr = document.createElement("tr");
    tr.id = expenseVal.value;
    expenseList.appendChild(tr);

    [desc.value, expenseVal.value, date.value].forEach((val) => {
      let td = document.createElement("td");
      td.innerText = val;
      tr.appendChild(td);
    });

    let td = document.createElement("td");
    let btn = document.createElement("div");
    btn.className = "removebtn";
    btn.innerText = "X";
    td.appendChild(btn);
    tr.appendChild(td);

    exp.forEach((e) => {
      e.classList.remove("error");
      e.value = "";
    });
  }
};

    function removeExpense(event) {
      if (event.target.classList.contains("removebtn")) {
        let row = event.target.parentNode.parentNode;
        let expVal = Number(row.id);
        row.remove();
        amount += expVal;
        balance.innerText = "₹" + amount;
        budAmount -= expVal;
        totalExpense -= expVal;
        expense.innerText = "₹" + budAmount;
      }
    }
  </script>
</body>
</html>
